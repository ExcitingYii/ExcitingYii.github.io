{%- assign default_paths = site.html_pages | map: 'path' -%}
{%- assign page_paths = site.header_pages | default: default_paths -%}
<header>
  <div class="menu">
    <ul>
      {%- for path in page_paths -%}
        {%- assign my_page = site.pages | where: "path", path | first -%}
        {%- if my_page.title -%}
        <li>
          <a href="{{ my_page.url | relative_url }}"{% if page.url == my_page.url %} aria-current="page"{% endif %}>{{ my_page.title | escape }}</a>
        </li>
        {%- endif -%}
      {%- endfor -%}

      <li class="menu-locale">
        <a href="{{ site.baseurl }}/">En</a>
        <span class="menu-divider">/</span>
        <a href="{{ site.baseurl }}/cn/">中</a>
      </li>
      <li class="menu-theme">
        <button class="theme-option" type="button" data-theme-target="light" aria-pressed="false" title="Switch to light mode">亮</button>
        <span class="menu-divider">/</span>
        <button class="theme-option" type="button" data-theme-target="dark" aria-pressed="false" title="Switch to dark mode">暗</button>
      </li>
      </ul>
  </div>
</header>
